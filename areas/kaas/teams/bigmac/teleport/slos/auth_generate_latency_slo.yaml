---
description: "95th percentile of Teleport authentication request latencies should be below the threshold"
alertName: "TeleportAuthGenerateLatencyHigh"
serviceLevelIndicator:
  objective: 95
  errorQuery: |
    histogram_quantile(0.99, sum by (cluster_id, cluster_type, customer, installation, pipeline, provider, region) (rate(auth_generate_seconds_bucket{cluster_id="teleportprod", job="teleport/teleport-cluster"}[5m]))) > 0.2
  totalQuery: |
    sum(rate(auth_generate_seconds_count{cluster_id="teleportprod", job="teleport/teleport-cluster"}[{{.window}}]))
  component: teleport-auth
alertLabels:
  silence: "true"
  cancel_if_outside_working_hours: '{{ include "workingHoursOnly" . }}'
labels:
  team: "bigmac"
