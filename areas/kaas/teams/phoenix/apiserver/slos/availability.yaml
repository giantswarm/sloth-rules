---
description: "API availability SLO"
alertName: "ApiServerAvailabilityErrorRateTooHigh"
objective: 99
errorQuery: (sum(rate(apiserver_request_total{code=~"(5..|429)"}[{{.window}}])) by (cluster_id, cluster_type, customer, installation, pipeline, provider, region)) or (clamp_min(1 - sum(up{app="kubernetes"}) by (cluster_id, cluster_type, customer, installation, pipeline, provider, region), 0))
totalQuery: (sum(rate(apiserver_request_total[{{.window}}])) by (cluster_id, cluster_type, customer, installation, pipeline, provider, region)) or (clamp_min(1 - sum(up{app="kubernetes"}) by (cluster_id, cluster_type, customer, installation, pipeline, provider, region), 0.01))
alertLabels: {}
