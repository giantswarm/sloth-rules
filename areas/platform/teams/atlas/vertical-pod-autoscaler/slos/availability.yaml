---
description: "VPA's component(s) is/are unavailable"
alertName: "VpaComponentUnavailable"
objective: 99
errorQuery: sum(label_replace((avg_over_time(kube_pod_container_status_ready{container=~"recommender|updater|recommender|vertical-pod-autoscaler-app", cluster_id=~"^.*"}[{{.window}}]) == 0) + 1, "container", "$1", "cluster_id", "$2")) by (container, cluster_id, cluster_type, customer, installation, pipeline, provider, region)
totalQuery: sum(label_replace(avg_over_time(kube_pod_container_info{container=~"recommender|admission-controller|updater", cluster_id=~"^.*"}[{{.window}}]), "container", "$1", "cluster_id", "$2")) by (container, cluster_id, cluster_type, customer, installation, pipeline, provider, region)
annotations:
  opsrecipe: vpa-down/
